#!/bin/sh

### When compiling using Mingw64, `make install` copies
### this script into ${bindir} instead of creating a symlink.
### One reason is that msys often copies the file instead
### of creating a true symlink. The other reason is that
### we can use the python launcher `py`.

## Locate this script

progname="`basename $0`"
if [ "$progname" != "$0" ]
then
    # programname contains directory components
    progdir="`dirname $0`"
else
    # must search along path
    tmpvar="$PATH"
    while [ -n "$tmpvar" ]
    do
      IFS=':' read progdir tmpvar <<EOF
$tmpvar
EOF
      test -x "$progdir/$progname" && break
    done
fi
progdir=`cd $progdir ; pwd`
if [ ! -x "$progdir/$progname" ]
then
   echo 1>&2 "$progname: command not found"
   exit 10
fi

## Exec the intended command (which uses $progdir)

exec @EXECCMD@ "$@"
